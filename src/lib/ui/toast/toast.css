/**
 * Toast Component Styles
 *
 * Uses BEM naming convention and design tokens for consistency.
 * Includes animations, variants, and positioning.
 */

/* ========================================
 * TOAST CONTAINER POSITIONING
 * ======================================== */

.toast-container {
	position: fixed;
	z-index: var(--z-index-toast, 9999);
	display: flex;
	flex-direction: column;
	gap: var(--space-3);
	padding: var(--space-4);
	pointer-events: none;
	max-width: 100vw;
}

/* Top positions */
.toast-container--top-left {
	top: 0;
	left: 0;
}

.toast-container--top-center {
	top: 0;
	left: 50%;
	transform: translateX(-50%);
}

.toast-container--top-right {
	top: 0;
	right: 0;
}

/* Bottom positions */
.toast-container--bottom-left {
	bottom: 0;
	left: 0;
	flex-direction: column-reverse;
}

.toast-container--bottom-center {
	bottom: 0;
	left: 50%;
	transform: translateX(-50%);
	flex-direction: column-reverse;
}

.toast-container--bottom-right {
	bottom: 0;
	right: 0;
	flex-direction: column-reverse;
}

/* ========================================
 * TOAST BASE STYLES
 * ======================================== */

.toast {
	position: relative;
	display: flex;
	align-items: flex-start;
	gap: var(--space-3);
	min-width: 320px;
	max-width: 480px;
	padding: var(--space-4);
	background-color: var(--color-surface);
	border-radius: var(--radius-lg);
	box-shadow: var(--shadow-lg);
	border: 1px solid var(--color-border);
	pointer-events: auto;
	overflow: hidden;
	transition: all var(--duration-200, 0.2s) var(--ease-in-out, ease);
}

/* ========================================
 * TOAST ANIMATIONS
 * ======================================== */

/* Slide in from top */
.toast-container--top-left .toast,
.toast-container--top-center .toast,
.toast-container--top-right .toast {
	animation: toast-slide-in-top var(--duration-300, 0.3s) var(--ease-out, ease-out);
}

/* Slide in from bottom */
.toast-container--bottom-left .toast,
.toast-container--bottom-center .toast,
.toast-container--bottom-right .toast {
	animation: toast-slide-in-bottom var(--duration-300, 0.3s) var(--ease-out, ease-out);
}

/* Slide in from left */
.toast-container--top-left .toast,
.toast-container--bottom-left .toast {
	animation: toast-slide-in-left var(--duration-300, 0.3s) var(--ease-out, ease-out);
}

/* Slide in from right */
.toast-container--top-right .toast,
.toast-container--bottom-right .toast {
	animation: toast-slide-in-right var(--duration-300, 0.3s) var(--ease-out, ease-out);
}

/* Exit animation */
.toast--exiting {
	opacity: 0;
	transform: scale(0.95) translateY(-10px);
	transition: all var(--duration-300, 0.3s) var(--ease-in, ease-in);
}

@keyframes toast-slide-in-top {
	from {
		opacity: 0;
		transform: translateY(-100%);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes toast-slide-in-bottom {
	from {
		opacity: 0;
		transform: translateY(100%);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes toast-slide-in-left {
	from {
		opacity: 0;
		transform: translateX(-100%);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes toast-slide-in-right {
	from {
		opacity: 0;
		transform: translateX(100%);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

/* ========================================
 * TOAST VARIANTS
 * ======================================== */

.toast--info {
	border-left: 4px solid var(--color-info-500);
	background-color: var(--color-info-50);
}

.toast--success {
	border-left: 4px solid var(--color-success-500);
	background-color: var(--color-success-50);
}

.toast--warning {
	border-left: 4px solid var(--color-warning-500);
	background-color: var(--color-warning-50);
}

.toast--error {
	border-left: 4px solid var(--color-error-500);
	background-color: var(--color-error-50);
}

/* ========================================
 * TOAST ELEMENTS
 * ======================================== */

.toast__icon {
	flex-shrink: 0;
	width: 24px;
	height: 24px;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: var(--font-size-large);
	color: var(--color-text-primary);
}

.toast--info .toast__icon {
	color: var(--color-info-600);
}

.toast--success .toast__icon {
	color: var(--color-success-600);
}

.toast--warning .toast__icon {
	color: var(--color-warning-600);
}

.toast--error .toast__icon {
	color: var(--color-error-600);
}

.toast__content {
	flex: 1;
	min-width: 0;
	display: flex;
	flex-direction: column;
	gap: var(--space-1);
}

.toast__title {
	font-size: var(--font-size-base);
	font-weight: var(--font-weight-semibold);
	color: var(--color-text-primary);
	line-height: var(--line-height-tight);
}

.toast__message {
	font-size: var(--font-size-small);
	color: var(--color-text-secondary);
	line-height: var(--line-height-normal);
}

/* ========================================
 * TOAST ACTIONS
 * ======================================== */

.toast__action {
	flex-shrink: 0;
	padding: var(--space-2) var(--space-3);
	font-size: var(--font-size-small);
	font-weight: var(--font-weight-medium);
	color: var(--color-primary-600);
	background-color: transparent;
	border: 1px solid var(--color-primary-300);
	border-radius: var(--radius-md);
	cursor: pointer;
	transition: all var(--duration-200, 0.2s) var(--ease-in-out, ease);
}

.toast__action:hover {
	background-color: var(--color-primary-50);
	border-color: var(--color-primary-400);
	color: var(--color-primary-700);
}

.toast__action:focus {
	outline: 2px solid var(--color-primary-500);
	outline-offset: 2px;
}

.toast__action:active {
	background-color: var(--color-primary-100);
}

/* ========================================
 * TOAST CLOSE BUTTON
 * ======================================== */

.toast__close {
	flex-shrink: 0;
	width: 32px;
	height: 32px;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: var(--space-2);
	color: var(--color-text-secondary);
	background-color: transparent;
	border: none;
	border-radius: var(--radius-md);
	cursor: pointer;
	transition: all var(--duration-200, 0.2s) var(--ease-in-out, ease);
	margin-left: auto;
}

.toast__close:hover {
	background-color: var(--color-background-tertiary, rgba(0, 0, 0, 0.05));
	color: var(--color-text-primary);
}

.toast__close:focus {
	outline: 2px solid var(--color-primary-500);
	outline-offset: 2px;
}

.toast__close:active {
	background-color: var(--color-background-alt, rgba(0, 0, 0, 0.1));
}

/* ========================================
 * TOAST PROGRESS BAR
 * ======================================== */

.toast__progress {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 4px;
	background-color: var(--color-border);
	overflow: hidden;
}

.toast__progress-bar {
	height: 100%;
	background-color: currentColor;
	transition: width 16ms linear;
}

.toast--info .toast__progress-bar {
	background-color: var(--color-info-500);
}

.toast--success .toast__progress-bar {
	background-color: var(--color-success-500);
}

.toast--warning .toast__progress-bar {
	background-color: var(--color-warning-500);
}

.toast--error .toast__progress-bar {
	background-color: var(--color-error-500);
}

/* ========================================
 * RESPONSIVE BEHAVIOR
 * ======================================== */

@media (max-width: 640px) {
	.toast-container {
		padding: var(--space-2);
	}

	.toast {
		min-width: 280px;
		max-width: calc(100vw - var(--space-4));
	}

	/* Center all positions on mobile for better UX */
	.toast-container--top-left,
	.toast-container--top-right {
		left: 50%;
		transform: translateX(-50%);
		right: auto;
	}

	.toast-container--bottom-left,
	.toast-container--bottom-right {
		left: 50%;
		transform: translateX(-50%);
		right: auto;
	}
}

/* ========================================
 * ACCESSIBILITY
 * ======================================== */

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
	.toast,
	.toast--exiting {
		animation: none;
		transition: none;
	}

	.toast__progress-bar {
		transition: none;
	}
}

/* High contrast mode */
@media (prefers-contrast: high) {
	.toast {
		border: 2px solid var(--color-border-strong);
	}

	.toast--info {
		border-left: 6px solid var(--color-info-600);
	}

	.toast--success {
		border-left: 6px solid var(--color-success-600);
	}

	.toast--warning {
		border-left: 6px solid var(--color-warning-600);
	}

	.toast--error {
		border-left: 6px solid var(--color-error-600);
	}
}

/* ========================================
 * HOVER EFFECTS
 * ======================================== */

.toast:hover {
	box-shadow: var(--shadow-xl, 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04));
	transform: translateY(-2px);
}

/* Pause progress on hover */
.toast:hover .toast__progress-bar {
	transition: none;
}
