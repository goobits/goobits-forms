/* CSS Variables for local use */
:root {
  --feedback-transition-quick: 0.2s ease;
  --feedback-btn-padding: 0.75rem 2.5rem;
}

/* Animation for loading spinner */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

:global(.animate-spin) {
  animation: spin 1.5s linear infinite;
}

:global(.grecaptcha-badge) {
  visibility: hidden !important;
}

/* Block */
.feedback {
  border-radius: var(--radius-lg);
  padding: var(--space-4) var(--space-5);
  margin: var(--space-5) 0;
  background-color: var(--color-surface);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--color-border);

  /* Elements */
  .feedback__thank-you {
    text-align: center;
    color: var(--color-success-600);
    font-variation-settings: "wght" 500;
    padding: var(--space-2) 0;
  }

  .feedback__prompt {
    margin: 0;
    color: var(--color-text-secondary);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    text-align: center;
  }

  .feedback__trigger {
    background: linear-gradient(
      135deg,
      var(--color-primary-500) 0%,
      var(--color-primary-600) 100%
    );
    border: none;
    border-radius: var(--button-radius-lg);
    color: var(--color-text-on-primary);
    cursor: pointer;
    display: inline-flex;
    font-size: 1rem;
    font-weight: var(--button-font-weight);
    justify-content: center;
    padding: var(--feedback-btn-padding);
    position: relative;
    transition:
      transform var(--feedback-transition-quick),
      box-shadow var(--feedback-transition-quick);
  }

  .feedback__trigger::before {
    background-color: var(--color-primary-600);
    border-radius: inherit;
    content: "";
    inset: 0;
    opacity: 0;
    position: absolute;
    transition: opacity var(--feedback-transition-quick);
    z-index: 0;
  }

  .feedback__trigger span {
    position: relative;
    z-index: 2;
  }

  .feedback__trigger:hover {
    box-shadow: var(--shadow-md);
    transform: scale(1.02);
  }

  .feedback__trigger:hover::before {
    opacity: 1;
  }

  .feedback__form {
    margin-top: var(--space-2);
  }

  .feedback__title {
    text-align: center;
    color: var(--color-text);
    font-variation-settings: "wght" 400;
    font-size: 1.2rem;
    margin-bottom: var(--space-4);
  }

  .feedback__choices {
    display: flex;
    justify-content: center;
    margin-bottom: var(--space-6);
  }

  .feedback__radio {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    cursor: pointer;
  }

  .feedback__radio input[type="radio"] {
    accent-color: var(--color-primary-500);
  }

  .feedback__radio__group {
    display: flex;
    gap: var(--space-6);
    justify-content: center;
  }

  .feedback__radio__text {
    color: var(--color-text);
    font-size: 1rem;
  }

  /* Dark theme radio text handled via CSS variables */

  .feedback__field {
    display: block;
    margin-bottom: var(--space-4);
  }

  .feedback__field__error {
    color: var(--color-error-600);
    font-size: var(--font-size-sm);
    margin-top: var(--space-1);
    font-style: italic;
  }

  .feedback__error {
    background-color: var(--color-error-50);
    border: 1px solid var(--color-error-500);
    color: var(--color-error-700);
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-4);
  }

  /* Dark theme error styles handled via CSS variables */

  .feedback__error__message {
    margin: 0;
  }

  .feedback__label {
    display: block;
    font-variation-settings: "wght" 500;
    margin-bottom: var(--space-2);
    color: var(--color-text);
  }

  .feedback__input,
  .feedback__textarea {
    width: 100%;
    padding: var(--space-3);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background-color: var(--color-surface);
    color: var(--color-text);
    transition: border-color 0.15s ease;
  }

  /* Dark theme input/textarea styles handled via CSS variables */

  .feedback__input:focus,
  .feedback__textarea:focus {
    outline: none;
    border-color: var(--color-primary-500);
    box-shadow: 0 0 0 3px var(--color-primary-100);
  }

  /* Dark theme focus styles handled via CSS variables */

  .feedback__textarea {
    min-height: 100px;
    resize: vertical;
  }

  .feedback__textarea.feedback--error {
    border-color: var(--color-error-300) !important;
    background-color: var(--color-error-50);
  }

  /* Dark theme textarea error handled via CSS variables */

  .feedback__note {
    color: var(--color-text-secondary);
    margin-bottom: var(--space-2);
    text-align: center;
    font-size: var(--font-size-sm);
  }

  .feedback__actions {
    display: flex;
    gap: var(--space-4);
    justify-content: center;
    margin-top: var(--space-4);
  }

  .feedback__actions.feedback--thank-you {
    margin-top: var(--space-5);
  }

  .feedback__btn {
    align-items: center;
    border-radius: var(--button-radius-lg);
    cursor: pointer;
    display: flex;
    font-size: 1rem;
    font-weight: var(--button-font-weight);
    gap: var(--space-2);
    justify-content: center;
    padding: var(--feedback-btn-padding);
    position: relative;
    transition:
      transform var(--feedback-transition-quick),
      box-shadow var(--feedback-transition-quick);
    min-width: 120px;
    text-align: center;
  }

  /* Primary button modifier */
  .feedback__btn.feedback--primary {
    background: linear-gradient(
      135deg,
      var(--color-primary-500) 0%,
      var(--color-primary-600) 100%
    );
    border: none;
    color: var(--color-text-on-primary);
    position: relative;
  }

  .feedback__btn.feedback--primary::before {
    background-color: var(--color-primary-600);
    border-radius: inherit;
    content: "";
    inset: 0;
    opacity: 0;
    position: absolute;
    transition: opacity var(--feedback-transition-quick);
    z-index: 0;
  }

  .feedback__btn.feedback--primary span {
    position: relative;
    z-index: 2;
  }

  .feedback__btn.feedback--primary:hover:not(:disabled) {
    box-shadow: var(--shadow-md);
    transform: scale(1.02);
  }

  .feedback__btn.feedback--primary:hover:not(:disabled)::before {
    opacity: 1;
  }

  .feedback__btn.feedback--primary:disabled {
    background: var(--color-border-strong);
    box-shadow: none;
    cursor: not-allowed;
    transform: none;
  }

  .feedback__btn.feedback--primary:disabled::before {
    opacity: 0;
  }

  /* Secondary button modifier */
  .feedback__btn.feedback--secondary {
    background-color: var(--color-surface);
    color: var(--color-text-secondary);
    border: 1px solid var(--color-border);
  }

  /* Dark theme secondary button handled via CSS variables */

  .feedback__btn.feedback--secondary:hover {
    background-color: var(--color-surface-hover);
    border-color: var(--color-border-strong);
  }
}
